import{r as u,v as m,n as p,R as n,O as R,a as v}from"./vendor.91d6440d.js";const g=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function l(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function a(e){if(e.ep)return;e.ep=!0;const t=l(e);fetch(e.href,t)}};g();function y(c={}){const{immediate:s=!1,onNeedRefresh:l,onOfflineReady:a,onRegistered:e,onRegisterError:t}=c;let r,i;const d=async(o=!0)=>{o&&(r==null||r.addEventListener("controlling",f=>{f.isUpdate&&window.location.reload()})),i&&i.waiting&&await p(i.waiting,{type:"SKIP_WAITING"})};if("serviceWorker"in navigator){r=new m("/vite-react-service-worker/sw.js",{scope:"/vite-react-service-worker/",type:"classic"}),r.addEventListener("activated",o=>{o.isUpdate||a==null||a()});{const o=()=>{l==null||l()};r.addEventListener("waiting",o),r.addEventListener("externalwaiting",o)}r.register({immediate:s}).then(o=>{i=o,e==null||e(o)}).catch(o=>{t==null||t(o)})}return d}function E(c={}){const{immediate:s=!0,onNeedRefresh:l,onOfflineReady:a,onRegistered:e,onRegisterError:t}=c,[r,i]=u.exports.useState(!1),[d,o]=u.exports.useState(!1),[f]=u.exports.useState(()=>y({immediate:s,onOfflineReady(){o(!0),a==null||a()},onNeedRefresh(){i(!0),l==null||l()},onRegistered:e,onRegisterError:t}));return{needRefresh:[r,i],offlineReady:[d,o],updateServiceWorker:f}}function h(){const c="2022-03-09T17:35:04.430Z",{offlineReady:[s,l],needRefresh:[a,e],updateServiceWorker:t}=E({onRegistered(i){console.log("SW Registered: "+i)},onRegisterError(i){console.log("SW registration error",i)}}),r=()=>{l(!1),e(!1)};return n.createElement("div",{className:"ReloadPrompt-container"},(s||a)&&n.createElement("div",{className:"ReloadPrompt-toast"},n.createElement("div",{className:"ReloadPrompt-message"},s?n.createElement("span",null,"App ready to work offline"):n.createElement("span",null,"New content available, click on reload button to update.")),a&&n.createElement("button",{className:"ReloadPrompt-toast-button",onClick:()=>t(!0)},"Reload"),n.createElement("button",{className:"ReloadPrompt-toast-button",onClick:()=>r()},"Close")),n.createElement("div",{className:"ReloadPrompt-date"},c))}function N(){const c="2022-03-09T17:35:04.430Z";return n.createElement("main",{className:"App"},n.createElement("img",{src:"/vite-react-service-worker/favicon.svg",alt:"PWA Logo",width:"60",height:"60"}),n.createElement("h1",{className:"Home-title"},"PWA React!"),n.createElement("div",{className:"Home-built"},"Built at: ",c),n.createElement(R,null),n.createElement(h,null))}v.render(n.createElement(N,null),document.getElementById("app"));
//# sourceMappingURL=index.a0b960ef.js.map
